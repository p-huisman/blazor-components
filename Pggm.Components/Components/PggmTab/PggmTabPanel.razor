@inherits PggmComponentBase
@namespace Pggm.Components

<pggm-tab-panel @ref="ElementRef" @attributes="GetAttributes()">
  @if (!string.IsNullOrEmpty(Title))
  {
    <h3 slot="title">@Title</h3>
  }
  @ChildContent
</pggm-tab-panel>

@code {
  public override string TagName => "pggm-tab-panel";

  /// <summary>
  /// The tab title/header text
  /// </summary>
  [Parameter] public string? Title { get; set; }

  /// <summary>
  /// Whether this tab panel is active/selected
  /// </summary>
  [Parameter] public bool Active { get; set; }

  /// <summary>
  /// Whether this tab panel is disabled
  /// </summary>
  [Parameter] public bool Disabled { get; set; }

  /// <summary>
  /// The tab index for this panel
  /// </summary>
  [Parameter] public int? TabIndex { get; set; }

  /// <summary>
  /// Icon to display in the tab header (optional)
  /// </summary>
  [Parameter] public string? Icon { get; set; }

  /// <summary>
  /// Custom content for the tab header (alternative to Label)
  /// </summary>
  [Parameter] public RenderFragment? HeaderContent { get; set; }

  protected override void AddComponentAttributes(Dictionary<string, object> attributes)
  {
    AttributeHelper.SetBooleanAttribute(attributes, "active", Active);
    AttributeHelper.SetBooleanAttribute(attributes, Constants.AttributeNames.Disabled, Disabled);
    AttributeHelper.SetAttributeIfNotEmpty(attributes, "icon", Icon);
    
    if (TabIndex.HasValue)
    {
      AttributeHelper.SetAttributeIfNotEmpty(attributes, "tab-index", TabIndex.Value.ToString());
    }
  }
}