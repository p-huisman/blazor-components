var at=Object.defineProperty,le=Object.defineProperties,ce=Object.getOwnPropertyDescriptor,de=Object.getOwnPropertyDescriptors;var nt=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var lt=c=>{throw TypeError(c)};var ot=(c,d,t)=>d in c?at(c,d,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[d]=t,ct=(c,d)=>{for(var t in d||(d={}))he.call(d,t)&&ot(c,t,d[t]);if(nt)for(var t of nt(d))ue.call(d,t)&&ot(c,t,d[t]);return c},dt=(c,d)=>le(c,de(d));var l=(c,d,t,e)=>{for(var r=e>1?void 0:e?ce(d,t):d,o=c.length-1,h;o>=0;o--)(h=c[o])&&(r=(e?h(d,t,r):h(r))||r);return e&&r&&at(d,t,r),r};var G=(c,d,t)=>d.has(c)||lt("Cannot "+t);var i=(c,d,t)=>(G(c,d,"read from private field"),t?t.call(c):d.get(c)),u=(c,d,t)=>d.has(c)?lt("Cannot add the same private member more than once"):d instanceof WeakSet?d.add(c):d.set(c,t),m=(c,d,t,e)=>(G(c,d,"write to private field"),e?e.call(c,t):d.set(c,t),t),a=(c,d,t)=>(G(c,d,"access private method"),t);var tt=(c,d,t,e)=>({set _(r){m(c,d,r,t)},get _(){return i(c,d,e)}});var ht=`:host{display:block}.table-container{display:block;overflow-x:auto;position:relative}table{border-collapse:collapse;width:auto}tr>td:first-child{left:0;position:sticky}td[hidden]{display:none;visibility:hidden}::slotted(pggm-th),tbody td,th{padding:8px 8px 8px 0}::slotted(pggm-th),th{border-bottom:1px solid gray}tbody td{border-bottom:1px solid #d3d3d3}:host([selectable]) th:first-child{background:#fff;left:0;position:sticky;position:relative;z-index:1}::slotted(pggm-th:first-child){left:0;position:sticky}pggm-checkbox{left:0;position:absolute;scale:.7;vertical-align:middle}tr td:first-child{padding-left:1em}tr td:first-child:has(pggm-checkbox){padding-left:2em}tr td:last-child{padding-right:1em}pggm-th,td{background-color:#fff}:host([selectable][select-type=single]) tbody tr:focus-within{outline:none}:host([selectable][select-type=single]) tbody tr:focus-within td,:host([selectable][select-type=single]) tbody tr:hover td{background-color:#d3d3d3;background-color:var(--pggm-table-row-focus-background-color,#d3d3d3);color:#555;color:var(--pggm-table-row-focus-color,#555)}:host([selectable][select-type=single]) tbody tr.selected td,:host([selectable][select-type=single]) tbody tr.selected:focus-within td{background-color:var(--pggm-table-row-focus-background-color,var(--pggm-interaction-color));color:#fff;color:var(--pggm-table-row-focus-color,#fff)}tfoot *{display:block;max-width:100%;width:100%}
`;var ut=`:host{display:hidden}:host(:not([hidden])){background:#fff;display:table-cell;font-weight:700;padding:.5em}.table-header{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.table-header,.th-caption-container{display:-webkit-box;display:-ms-flexbox;display:flex}.th-caption-container{-webkit-box-align:left;-ms-flex-align:left;align-items:left}.th-caption,.th-caption-container{-webkit-box-flex:1;-ms-flex:1;flex:1}.th-caption{white-space:nowrap}.th-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;cursor:pointer}.th-button svg{height:1em;width:1em}.th-filter-button{fill:none}.th-filter-button--active{fill:green;color:green}.table-header:has(pggm-checkbox){padding-left:2em}pggm-checkbox{left:0;position:absolute;scale:.7;vertical-align:middle}
`;var pt=c=>Maquette.h("svg",{key:c,class:"sortable",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Maquette.h("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Maquette.h("path",{d:"M3 9l4 -4l4 4m-4 -4v14"}),Maquette.h("path",{d:"M21 15l-4 4l-4 -4m4 4v-14"})),gt=c=>Maquette.h("svg",{key:c,class:"sortable-asc",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Maquette.h("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Maquette.h("path",{d:"M4 6l7 0"}),Maquette.h("path",{d:"M4 12l7 0"}),Maquette.h("path",{d:"M4 18l9 0"}),Maquette.h("path",{d:"M15 9l3 -3l3 3"}),Maquette.h("path",{d:"M18 6l0 12"})),mt=c=>Maquette.h("svg",{key:c,class:"sortable-desc",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Maquette.h("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Maquette.h("path",{d:"M4 6l9 0"}),Maquette.h("path",{d:"M4 12l7 0"}),Maquette.h("path",{d:"M4 18l7 0"}),Maquette.h("path",{d:"M15 15l3 3l3 -3"}),Maquette.h("path",{d:"M18 6l0 12"})),ft=c=>Maquette.h("svg",{key:c,viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Maquette.h("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Maquette.h("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"}));var E,v,$,yt,bt,Et,vt,j,T,Lt,At,g=class extends CustomElement{constructor(){super(...arguments);u(this,v);u(this,E,null);this.width="auto";this.textAlign="left";this.field="";this.sortable=!1;this.filterable=!1;this.type="string";this.format="string";this.hidden=!1;u(this,j,()=>{requestAnimationFrame(()=>{this.checkbox.indeterminate||i(this,E).updateSelectAll(this.checkbox.checked)})});u(this,T,t=>{var r,o;let e=t.target.closest("button");e.matches(".th-sort-button")?(r=i(this,E))==null||r.sort(this):e.matches(".th-filter-button")&&((o=i(this,E))==null||o.openFilterPopover(this))})}updated(t,e,r){var o;t==="field"&&((o=i(this,E))==null||o.dispatchEvent(new CustomEvent("fieldChanged",{detail:{field:r},bubbles:!0,composed:!0})))}setFilter(t){var e;(e=i(this,E))==null||e.setFilter(this.field,t)}render(){return Maquette.h("div",{class:"table-header",styles:{width:i(this,v,Et)}},i(this,v,yt)&&i(this,v,bt)&&Maquette.h("pggm-checkbox",{onchange:i(this,j)}),Maquette.h("div",{class:"th-caption-container"},this.sortable&&Maquette.h("button",{"aria-label":`${i(this,v,Lt)} (${this.textContent.trim()})`,class:"th-button th-sort-button",onclick:i(this,T)},a(this,v,vt).call(this)),Maquette.h("div",{class:"th-caption",styles:{"text-align":this.textAlign}},Maquette.h("slot",null))),this.filterable&&Maquette.h("button",{"aria-pressed":i(this,v,$)?i(this,v,$).toString():"false","aria-label":`${i(this,v,At)} (${this.textContent.trim()})`,classes:{"th-button":!0,"th-filter-button":!0,"th-filter-button--active":i(this,v,$)},onclick:i(this,T)},ft("filterIcon")))}connectedCallback(){super.connectedCallback(),m(this,E,this.closest("pggm-table"))}disconnectedCallback(){super.disconnectedCallback(),m(this,E,null)}};E=new WeakMap,v=new WeakSet,$=function(){var t;return(t=i(this,E))==null?void 0:t.filters.has(this.field)},yt=function(){return i(this,E)?i(this,E).querySelector("pggm-th")===this:!1},bt=function(){var t;return(t=i(this,E).isMultipleSelect)!=null?t:!1},Et=function(){let t=parseFloat(this.width);return isNaN(t)?this.width:t+"px"},vt=function(){var e,r;if(!this.sortable)return null;if(((e=i(this,E))==null?void 0:e.currentSortField)===this.field){let o=(r=i(this,E))==null?void 0:r.currentSortDirection;if(o==="asc")return gt("sortable-asc");if(o==="desc")return mt("sortable-desc")}return pt("sortable")},j=new WeakMap,T=new WeakMap,Lt=function(){var t;return((t=i(this,E))==null?void 0:t.sortLabel)||n.LABEL_SORT},At=function(){var t;return((t=i(this,E))==null?void 0:t.filterLabel)||n.LABEL_FILTER},g.TAG_NAME="pggm-th",g.style=ut,l([Property({type:"string",attribute:"width",reflect:!0})],g.prototype,"width",2),l([Property({type:"string",attribute:"text-align"})],g.prototype,"textAlign",2),l([Property({type:"string",attribute:"field",reflect:!0})],g.prototype,"field",2),l([Property({type:"boolean",attribute:"sortable",reflect:!0})],g.prototype,"sortable",2),l([Property({type:"boolean",attribute:"filterable",reflect:!0})],g.prototype,"filterable",2),l([Property({type:"string",attribute:"type",reflect:!0})],g.prototype,"type",2),l([Property({type:"string",attribute:"format",reflect:!0})],g.prototype,"format",2),l([Property({type:"boolean",attribute:"hidden",reflect:!0})],g.prototype,"hidden",2),l([Query("pggm-checkbox")],g.prototype,"checkbox",2),g=l([CustomElementConfig({tagName:g.TAG_NAME})],g);var kt=`:host{display:block;margin:1em}nav{display:-webkit-box;display:-ms-flexbox;display:flex;margin:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:1em;padding:.5em}nav span{width:auto}
`;var f,L,U,xt,S=class extends CustomElement{constructor(){super(...arguments);u(this,f);u(this,U,t=>{let r=t.target.closest("button");r.matches(".page-link--previous")?i(this,f,L).previousPage():r.matches(".page-link--next")&&i(this,f,L).nextPage(),this.scheduleRender()})}render(){return Maquette.h("nav",null,a(this,f,xt).call(this))}};f=new WeakSet,L=function(){return this.closest("pggm-table")},U=new WeakMap,xt=function(){return i(this,f,L)&&i(this,f,L).remote==="cursor"?Maquette.h("div",null,Maquette.h("button",{key:"cursor-previous-button",disabled:i(this,f,L).cursorData.prev?void 0:"disabled",class:"page-link page-link--previous",onclick:()=>i(this,f,L).remoteUrl=i(this,f,L).cursorData.prev,"aria-label":"Previous"},Maquette.h("span",{"aria-hidden":"true"},"\xAB")),Maquette.h("button",{key:"cursor-next-button",class:"page-link page-link--next",disabled:i(this,f,L).cursorData.next?void 0:"disabled",onclick:()=>i(this,f,L).remoteUrl=i(this,f,L).cursorData.next,"aria-label":"Next"},Maquette.h("span",{"aria-hidden":"true"},"\xBB"))):i(this,f,L)&&i(this,f,L).rowsPerPage&&i(this,f,L).totalPages>0?Maquette.h("nav",{"aria-label":S.LABEL_PAGING},Maquette.h("button",{key:"previous-button",disabled:i(this,f,L).currentPage===1?"disabled":!1,class:"page-link page-link--previous",onclick:i(this,U),"aria-label":"Previous"},Maquette.h("span",{"aria-hidden":"true"},"\xAB")),i(this,f,L).totalPages>1&&Maquette.h("span",null,i(this,f,L).currentPage,"/",i(this,f,L).totalPages),Maquette.h("button",{key:"next-button",class:"page-link page-link--next",onclick:i(this,U),"aria-label":"Next"},Maquette.h("span",{"aria-hidden":"true"},"\xBB"))):Maquette.h("div",null)},S.projectorMode="replace",S.TAG_NAME="pggm-table-paging",S.LABEL_PAGING="Paginering",S.style=kt,S=l([CustomElementConfig({tagName:S.TAG_NAME})],S);var St=`:host{display:none;--pggm-table-filter-box-shadow:var(--pggm-tooltip-box-shadow-offset-x) var(--pggm-tooltip-box-shadow-offset-y) var(--pggm-tooltip-box-shadow-blur) var(--pggm-tooltip-box-shadow-spread) var(--pggm-tooltip-box-shadow-color)}:host([open]){display:block}.filter-popover[open]{background-color:var(--pggm-tooltip-background-color);border:0;border-radius:var(--pggm-tooltip-border-radius);-webkit-box-shadow:var(--pggm-table-filter-box-shadow);box-shadow:var(--pggm-table-filter-box-shadow);color:var(--pggm-tooltip-color);left:var(--_table-filter-left);margin:0;overflow-x:hidden;padding:var(--pggm-tooltip-padding-block-start) var(--pggm-tooltip-padding-inline-start) var(--pggm-tooltip-padding-block-end) var(--pggm-tooltip-padding-inline-end);top:var(--_table-filter-top)}.filter-popover-actions{gap:1em;gap:var(--pggm-data-table-filter-popover-gap,1em);margin-top:1em;margin-top:var(--pggm-data-table-filter-popover-actions-block-start,1em)}.filter-form,.filter-popover-actions{display:-webkit-box;display:-ms-flexbox;display:flex}.filter-form{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5em;gap:var(--pggm-data-table-filter-popover-gap,.5em)}.hidden{display:none}
`;var w,p,y,Q,D,wt,I,O,k,_,z,K,A=class extends CustomElement{constructor(){super(...arguments);u(this,y);u(this,w,null);u(this,p,null);this.fieldType="string";u(this,D,!1);u(this,I,()=>{i(this,w).setFilter(i(this,p)),this.hide()});u(this,O,()=>{i(this,w).setFilter(null),this.hide()});u(this,_,t=>{t.key==="Enter"?i(this,I).call(this):t.key==="Escape"&&this.hide()});u(this,z,()=>{var t,e,r,o,h,b;return Maquette.h("div",{class:"filter-form filter-form-number",key:"number-popover"},Maquette.h("div",null,Maquette.h("select",{is:"pggm-select",onchange:x=>{i(this,p).type=x.target.value}},Maquette.h("option",{selected:i(this,p).type==="equals",value:"equals"},((t=i(this,y,k))==null?void 0:t.equalsLabel)||n.LABEL_EQUALS),Maquette.h("option",{selected:i(this,p).type==="greaterThan",value:"greaterThan"},((e=i(this,y,k))==null?void 0:e.greaterThanLabel)||n.LABEL_GREATER_THAN),Maquette.h("option",{selected:i(this,p).type==="greaterThanOrEqual",value:"greaterThanOrEqual"},((r=i(this,y,k))==null?void 0:r.greaterTanOrEqualsLabel)||n.LABEL_GREATER_THAN_OR_EQUAL),Maquette.h("option",{selected:i(this,p).type==="lessThan",value:"lessThan"},((o=i(this,y,k))==null?void 0:o.lessThanLabel)||n.LABEL_LESS_THAN),Maquette.h("option",{selected:i(this,p).type==="lessThanOrEqual",value:"lessThanOrEqual"},((h=i(this,y,k))==null?void 0:h.lessThanOrEqualsLabel)||n.LABEL_LESS_THAN_OR_EQUAL),Maquette.h("option",{selected:i(this,p).type==="between",value:"between"},((b=i(this,y,k))==null?void 0:b.betweenLabel)||n.LABEL_BETWEEN))),Maquette.h("div",null,Maquette.h("input",{key:"number-field",step:"any",type:"number",is:"pggm-input","aria-label":this.filterLabel,onchange:x=>{i(this,p).values[0]=x.target.value}})),Maquette.h("div",{classes:{hidden:i(this,p).type!=="between"}},Maquette.h("input",{key:"second-number-field",step:"any",type:"number",is:"pggm-input","aria-label":this.filterLabel,onchange:x=>{i(this,p).values[1]=x.target.value}})),Maquette.h("div",{class:"filter-popover-actions"},Maquette.h("button",{type:"button",is:"pggm-button",appearance:"primary",onclick:i(this,I)},this.filterLabel),Maquette.h("button",{type:"button",is:"pggm-button",appearance:"secondary",onclick:i(this,O)},this.clearLabel)))});u(this,K,()=>{var t,e,r,o,h;return Maquette.h("div",{class:"filter-form filter-form-string",key:"string-popover"},Maquette.h("select",{is:"pggm-select",onchange:b=>{i(this,p).type=b.target.value}},Maquette.h("option",{selected:i(this,p).type==="contains",value:"contains"},((t=i(this,y,k))==null?void 0:t.containsLabel)||n.LABEL_CONTAINS),Maquette.h("option",{selected:i(this,p).type==="equals",value:"equals"},((e=i(this,y,k))==null?void 0:e.equalsLabel)||n.LABEL_EQUALS),Maquette.h("option",{selected:i(this,p).type==="startsWith",value:"startsWith"},((r=i(this,y,k))==null?void 0:r.startsWithLabel)||n.LABEL_STARTS_WITH),Maquette.h("option",{selected:i(this,p).type==="endsWith",value:"endsWith"},((o=i(this,y,k))==null?void 0:o.endsWithLabel)||n.LABEL_ENDS_WITH)),Maquette.h("input",{type:"text",is:"pggm-input",id:"StringFilter","aria-label":this.filterLabel,onchange:b=>{i(this,p).value=b.target.value}}),Maquette.h("pggm-checkbox",{id:"caseSensitive",onchange:b=>{i(this,p).caseSensitive=b.target.checked}},((h=i(this,y,k))==null?void 0:h.caseSensitiveLabel)||n.LABEL_CASE_SENSITIVE),Maquette.h("div",{class:"filter-popover-actions"},Maquette.h("button",{type:"button",is:"pggm-button",appearance:"primary",onclick:i(this,I)},this.filterLabel),Maquette.h("button",{type:"button",is:"pggm-button",appearance:"secondary",onclick:i(this,O)},this.clearLabel)))})}show(t,e){if(i(this,y,Q)){this.hide();return}m(this,p,e),this.fieldType=t.type||"string",m(this,w,t),this.fieldType==="number"&&!i(this,p)?m(this,p,{name:"numberFilter",type:"equals",values:["",""]}):i(this,p)||m(this,p,{name:"stringFilter",type:"contains",value:"",caseSensitive:!1}),this.setAttribute("open",""),this.scheduleRender()}hide(){m(this,D,!1),this.style.opacity="0",this.removeAttribute("open"),m(this,w,null)}get filterLabel(){var t;return((t=i(this,y,k))==null?void 0:t.filterLabel)||n.LABEL_FILTER}get clearLabel(){var t;return((t=i(this,y,k))==null?void 0:t.clearLabel)||A.LABEL_CLEAR}render(){return Maquette.h("div",{class:"filter-popover",popover:"",open:i(this,y,Q),on:{toggle:t=>{t.newState==="closed"&&this.hide()}},afterUpdate:t=>{var e;i(this,y,Q)&&(this.style.opacity="0",t.showPopover(),requestAnimationFrame(()=>{a(this,y,wt).call(this,t)}),(e=this.inputElement)==null||e.focus())}},this.fieldType==="string"&&i(this,K).call(this),this.fieldType==="number"&&i(this,z).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("keydown",i(this,_))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("keydown",i(this,_))}};w=new WeakMap,p=new WeakMap,y=new WeakSet,Q=function(){return this.hasAttribute("open")},D=new WeakMap,wt=function(t){if(i(this,D)||!t||!i(this,w))return;let e=i(this,w).getBoundingClientRect(),r=e.left+e.width-t.clientWidth;r<0&&(r=0),this.style.setProperty("--_table-filter-left",`${r}px`),this.style.setProperty("--_table-filter-top",`${e.top+i(this,w).offsetHeight}px`),this.style.opacity=null,this.inputElement&&this.fieldType==="string"?this.inputElement.value=i(this,p).value||"":this.fieldType==="number"&&Array.from(this.shadowRoot.querySelectorAll("input[type='number']")).forEach((h,b)=>{h.value=i(this,p).values[b]||""}),m(this,D,!0)},I=new WeakMap,O=new WeakMap,k=function(){var t;return((t=i(this,w))==null?void 0:t.closest(n.TAG_NAME))||null},_=new WeakMap,z=new WeakMap,K=new WeakMap,A.TAG_NAME="pggm-table-filter",A.LABEL_CLEAR="Wis",A.style=St,l([Query("div.filter-popover")],A.prototype,"popoverElement",2),l([Query("input#StringFilter")],A.prototype,"inputElement",2),l([Property({type:"string"})],A.prototype,"fieldType",2),A=l([CustomElementConfig({tagName:A.TAG_NAME})],A);var X={LANGUAGE:"nl",CURRENCY:"EUR",TEXT_ALIGN:"left"},et={EVEN:"even",ODD:"odd",SELECTED:"selected"},Nt={STRING:"stringFilter",NUMBER:"numberFilter"},R,W,V,q,s,Ft,Ct,Rt,Bt,Dt,It,Ht,qt,Tt,B,Ut,Ot,rt,_t,Y,J,N,C,F,H,Wt,Vt,$t,jt,Qt,zt,Kt,Xt,Yt,Jt,it,Zt,Mt,Pt,Gt,M,Z,te,ee,re,ie,se,ne,oe,n=class extends CustomElement{constructor(){super();u(this,s);u(this,R);u(this,W);u(this,V,null);u(this,q);this.filters=new Map;u(this,B,[]);this.selected=[];this.remote=null;this.remoteUrl=null;this.data=[];this.selectable=!1;this.selectType="multiple";this.actions=!1;this.sortLabel=n.LABEL_SORT;this.clearLabel=n.LABEL_CLEAR;this.filterLabel=n.LABEL_FILTER;this.greaterThanLabel=n.LABEL_GREATER_THAN;this.greaterTanOrEqualsLabel=n.LABEL_GREATER_THAN_OR_EQUAL;this.lessThanLabel=n.LABEL_LESS_THAN;this.lessThanOrEqualsLabel=n.LABEL_LESS_THAN_OR_EQUAL;this.betweenLabel=n.LABEL_BETWEEN;this.equalsLabel=n.LABEL_EQUALS;this.containsLabel=n.LABEL_CONTAINS;this.endsWithLabel=n.LABEL_ENDS_WITH;this.startsWithLabel=n.LABEL_STARTS_WITH;this.caseSensitiveLabel=n.LABEL_CASE_SENSITIVE;u(this,N,1);u(this,C);u(this,F,"asc");u(this,M,t=>{t.preventDefault();let r=t.target.closest("tr").dataset.id;this.selected&&this.selected.includes(r)?this.selected=this.selected.filter(o=>o!==r):(this.selected=this.selected||[],this.selected.push(r))});a(this,s,Ft).call(this),m(this,V,Maquette.dom.create(Maquette.h("slot",{name:"footer"})).domNode)}get cursorData(){if(!i(this,q))return{prev:void 0,next:void 0};let{prev:t,next:e}=i(this,q);return{prev:t,next:e}}getFormatter(t){return n.formatters.has(t)?n.formatters.get(t)||a(this,s,Y).call(this):a(this,s,Ut).call(this,t)}get fields(){return i(this,s,J).map(t=>t.field)}get currentSortField(){return i(this,C)}get currentSortDirection(){return i(this,F)}get currentPage(){return i(this,N)}nextPage(){i(this,N)<this.totalPages&&(tt(this,N)._++,this.scheduleRender())}previousPage(){i(this,N)>1&&(tt(this,N)._--,this.scheduleRender())}get totalPages(){if(!this.data||this.data.length===0)return 0;let t=this.data.length,e=Math.ceil(t/this.rowsPerPage);return e>0?e:1}sort(t){if(i(this,C)===t.field?m(this,F,i(this,F)==="asc"?"desc":"asc"):m(this,F,"asc"),m(this,N,1),m(this,C,t.field),i(this,R)==="cursor"){let e=new URL(this.remoteUrl,window.location.href);e.searchParams.set("sort",t.field),e.searchParams.set("order",i(this,F)),e.searchParams.delete("cursor"),this.remoteUrl=e.toString();return}this.scheduleRender()}openFilterPopover(t){let e=this.getRootNode();if(e instanceof ShadowRoot||e instanceof Document){let r=e.querySelector("pggm-table-filter");r||(r=document.createElement(A.TAG_NAME),e instanceof Document?e.body.appendChild(r):e.appendChild(r)),r.show(t,this.filters.get(t.field))}}setFilter(t,e){var o;e?this.filters.set(t,e):this.filters.delete(t),this.scheduleRender(),((o=this.slotElement)==null?void 0:o.assignedElements().filter(h=>h instanceof g)).forEach(h=>{h instanceof g&&h.scheduleRender()})}updateSelectAll(t){t?this.selected=Array.from(this.shadowRoot.querySelectorAll("tbody tr")).map(e=>e.dataset.id):this.selected=[],a(this,s,Z).call(this)}get isMultipleSelect(){return this.selectable&&this.selectType==="multiple"}render(){return Maquette.h("div",{class:"table-container"},Maquette.h("table",null,a(this,s,te).call(this),a(this,s,ee).call(this)))}updated(t,e,r){(t==="remote"||t==="remoteUrl")&&a(this,s,Dt).call(this)}connectedCallback(){var t;super.connectedCallback(),(t=this.shadowRoot)!=null&&t.querySelector("slot[name=footer]")||this.shadowRoot.appendChild(i(this,V)),this.addEventListener("fieldChanged",e=>{this.scheduleRender()})}};R=new WeakMap,W=new WeakMap,V=new WeakMap,q=new WeakMap,s=new WeakSet,Ft=function(){a(this,s,Ct).call(this),a(this,s,Rt).call(this),a(this,s,Bt).call(this)},Ct=function(){n.formatters.set("date",(t,e)=>{let r=e[t];return r instanceof Date?r.toLocaleDateString(i(this,s,H)):r}),n.formatters.set("datetime",(t,e)=>{let r=e[t];if(r instanceof Date){let o=r.toLocaleDateString(i(this,s,H)),h=r.toLocaleTimeString(i(this,s,H));return`${o} ${h}`}return r})},Rt=function(){n.formatters.set("number",(t,e)=>{let r=e[t];return typeof r=="number"?new Intl.NumberFormat(i(this,s,H)).format(r):r}),n.formatters.set("currency",(t,e)=>{let r=e[t];return typeof r=="number"?new Intl.NumberFormat(i(this,s,H),{style:"currency",currency:X.CURRENCY}).format(r):r})},Bt=function(){n.formatters.set("string",(t,e)=>{let r=e[t];return typeof r=="string"?r:r==null?void 0:r.toString()})},Dt=function(){requestAnimationFrame(()=>{let t=a(this,s,It).call(this);this.remote&&this.remoteUrl&&t&&a(this,s,Ht).call(this)})},It=function(){let t=!1;return i(this,R)!==this.remote&&m(this,R,this.remote),i(this,W)!==this.remoteUrl&&(m(this,W,this.remoteUrl),t=!0),t},Ht=function(){fetch(this.remoteUrl).then(t=>t.json()).then(t=>{a(this,s,qt).call(this,t)}).catch(t=>{console.error("Error fetching remote data:",t)}).finally(()=>{a(this,s,Tt).call(this)})},qt=function(t){m(this,q,t),i(this,R)==="cursor"?this.data=t.items:i(this,R)==="simple"&&(this.data=t)},Tt=function(){var t;(t=this.querySelector("pggm-table-paging"))==null||t.scheduleRender(),this.scheduleRender()},B=new WeakMap,Ut=function(t){return t&&t.includes("-")?a(this,s,Ot).call(this,t):a(this,s,Y).call(this)},Ot=function(t){if(!i(this,B).includes(t)){let e=customElements.get(t);if(e)return a(this,s,rt).call(this,t,e),n.formatters.get(t);a(this,s,_t).call(this,t)}return a(this,s,Y).call(this)},rt=function(t,e){n.formatters.set(t,(r,o)=>e.format(r,o))},_t=function(t){i(this,B).push(t),customElements.whenDefined(t).then(()=>{let e=customElements.get(t);e&&(a(this,s,rt).call(this,t,e),m(this,B,i(this,B).filter(r=>r!==t)),this.scheduleRender())})},Y=function(){return(t,e)=>e[t]},J=function(){var e;let t=(e=this.slotElement)==null?void 0:e.assignedElements();return t?t.filter(r=>r instanceof g).map(r=>({field:r.field,format:r.format,type:r.type,hidden:r.hidden})):[]},N=new WeakMap,C=new WeakMap,F=new WeakMap,H=function(){var t;return this.getAttribute("lang")||((t=this.closest("[lang]"))==null?void 0:t.getAttribute("lang"))||document.documentElement.lang||X.LANGUAGE},Wt=function(t){t.forEach(e=>{i(this,s,J).forEach(r=>{let o=e[r.field];r.type==="date"&&o&&typeof o=="string"&&(e[r.field]=new Date(o))})})},Vt=function(){if(!this.data)return[];let t=a(this,s,$t).call(this);a(this,s,Wt).call(this,t);let e=a(this,s,zt).call(this,t),r=a(this,s,Pt).call(this,e);return a(this,s,Qt).call(this,r)},$t=function(){return this.data.map(t=>{let e={};return i(this,s,J).forEach(r=>{let o=a(this,s,jt).call(this,t,r.field);e[r.field]=o}),this.idField&&(e["."]=t[this.idField]),e})},jt=function(t,e){return e.split(".").reduce((r,o)=>r?r[o]:void 0,t)},Qt=function(t){if(!t)return[];if(this.rowsPerPage<=0||this.rowsPerPage===void 0)return t;let e=(i(this,N)-1)*this.rowsPerPage,r=e+this.rowsPerPage;return t.slice(e,r)},zt=function(t){let e=t||[];return this.filters.forEach((r,o)=>{e=e.filter(h=>a(this,s,Kt).call(this,h,o,r))}),e},Kt=function(t,e,r){let o=t[e];if(!r||!o)return!0;switch(r.name){case Nt.STRING:return a(this,s,Xt).call(this,r,o);case Nt.NUMBER:return a(this,s,Jt).call(this,r,o);default:return!0}},Xt=function(t,e){if(typeof e!="string")return!1;let r=t.caseSensitive?t.value:t.value.toLowerCase(),o=t.caseSensitive?e:e.toLowerCase();return a(this,s,Yt).call(this,t.type,o,r)},Yt=function(t,e,r){switch(t){case"contains":return e.includes(r);case"startsWith":return e.startsWith(r);case"endsWith":return e.endsWith(r);case"equals":return e===r;default:return!0}},Jt=function(t,e){var o;if(typeof e!="number")return!1;let r=a(this,s,it).call(this,(o=t.values)==null?void 0:o[0]);return isNaN(r)?!0:a(this,s,Zt).call(this,t.type,e,r,t.values)},it=function(t){return t?parseFloat(t):NaN},Zt=function(t,e,r,o){switch(t){case"greaterThan":return e>r;case"greaterThanOrEqual":return e>=r;case"lessThan":return e<r;case"lessThanOrEqual":return e<=r;case"between":return a(this,s,Mt).call(this,e,r,o);case"equals":return e===r;default:return!0}},Mt=function(t,e,r){if(!r||r.length!==2)return!0;let o=a(this,s,it).call(this,r[1]);return isNaN(o)?!0:t>=e&&t<=o},Pt=function(t){if(!t)return[];if(!i(this,C))return t;let e=[...t];return e.sort((r,o)=>{let h=r[i(this,C)],b=o[i(this,C)];return h<b?i(this,F)==="asc"?-1:1:h>b?i(this,F)==="asc"?1:-1:0}),e},Gt=function(t){var o;let e=(o=this.slotElement)==null?void 0:o.assignedElements();if(!e)return X.TEXT_ALIGN;let r=e.find(h=>h instanceof g&&h.field===t);return r instanceof g?r.textAlign:X.TEXT_ALIGN},M=new WeakMap,Z=function(){requestAnimationFrame(()=>{this.dispatchEvent(new CustomEvent("selectionChange",{detail:{selectedRows:this.selected},bubbles:!0,composed:!0}))})},te=function(){return Maquette.h("thead",null,Maquette.h("tr",null,Maquette.h("slot",{id:"MainSlot",afterCreate:t=>{t.addEventListener("slotchange",()=>{this.scheduleRender()}),this.scheduleRender()}})))},ee=function(){let t=this.querySelectorAll(g.TAG_NAME);return Maquette.h("tbody",null,i(this,s,Vt).map((e,r)=>a(this,s,re).call(this,e,r,t)))},re=function(t,e,r){let o=t["."],h=a(this,s,ie).call(this,o);return Maquette.h("tr",dt(ct({},h),{key:`tr-${e}-${o}`,"data-id":o?o.toString():"",classes:{[et.EVEN]:e%2===0,[et.ODD]:e%2!==0,[et.SELECTED]:this.selected.includes(o)}}),Array.from(r).map((b,x)=>a(this,s,se).call(this,t,b,x,e,o)))},ie=function(t){return!this.selectable||this.isMultipleSelect?{}:{tabindex:"0",onclick:e=>{this.selected=[t],a(this,s,Z).call(this)},onkeydown:e=>{(e.key==="Enter"||e.key===" ")&&(this.selected=[t],a(this,s,Z).call(this),e.preventDefault())}}},se=function(t,e,r,o,h){let b=e.getAttribute("field"),x=e.getAttribute("format"),st=a(this,s,ne).call(this,t,b,x,h),P=h||t[b],ae=e.hidden;return Maquette.h("td",{key:`td-${b}-${o}-${i(this,N)}-${i(this,F)}`,styles:{"text-align":a(this,s,Gt).call(this,b)},hidden:ae},a(this,s,oe).call(this,st,r,P))},ne=function(t,e,r,o){let h=e?t[e]:null;if(h)if(r&&r.includes("-")&&this.idField){let x=this.data.find(P=>P[this.idField]===o);h=this.getFormatter(r)(e,x||t)}else h=this.getFormatter(r)(e,t);return h},oe=function(t,e,r){var o;return this.isMultipleSelect&&e===0?Maquette.h("label",{for:`Checkbox-${r}`,onclick:i(this,M)},Maquette.h("pggm-checkbox",{id:`Checkbox-${r}`,class:"select-row",type:"checkbox",checked:(o=this.selected)==null?void 0:o.includes(r+""),name:r+"","data-field-id":r+""}),t):t},n.projectorMode="replace",n.TAG_NAME="pggm-table",n.LABEL_FILTER="Filter",n.LABEL_SORT="Sorteren",n.LABEL_GREATER_THAN="Groter dan",n.LABEL_LESS_THAN="Kleiner dan",n.LABEL_BETWEEN="Tussen",n.LABEL_EQUALS="Gelijk aan",n.LABEL_CONTAINS="Bevat",n.LABEL_ENDS_WITH="Eindigt op",n.LABEL_STARTS_WITH="Begint met",n.LABEL_LESS_THAN_OR_EQUAL="Kleiner dan of gelijk aan",n.LABEL_GREATER_THAN_OR_EQUAL="Groter dan of gelijk aan",n.LABEL_CLEAR="Wissen",n.LABEL_CASE_SENSITIVE="Hoofdlettergevoelig",n.style=ht,n.formatters=new Map,l([Query("#MainSlot")],n.prototype,"slotElement",2),l([Property({type:"object"})],n.prototype,"selected",2),l([Property({type:"string",attribute:"remote",reflect:!0})],n.prototype,"remote",2),l([Property({type:"string",attribute:"remote-url"})],n.prototype,"remoteUrl",2),l([Property({type:"object",attribute:"data"})],n.prototype,"data",2),l([Property({type:"boolean",attribute:"selectable"})],n.prototype,"selectable",2),l([Property({type:"string",attribute:"select-type"})],n.prototype,"selectType",2),l([Property({type:"boolean",attribute:"actions"})],n.prototype,"actions",2),l([Property({type:"string",attribute:"sort-label"})],n.prototype,"sortLabel",2),l([Property({type:"string",attribute:"clear-label"})],n.prototype,"clearLabel",2),l([Property({type:"string",attribute:"filter-label"})],n.prototype,"filterLabel",2),l([Property({type:"string",attribute:"greater-then-label"})],n.prototype,"greaterThanLabel",2),l([Property({type:"string",attribute:"greater-than-or-equals-label"})],n.prototype,"greaterTanOrEqualsLabel",2),l([Property({type:"string",attribute:"less-then-label"})],n.prototype,"lessThanLabel",2),l([Property({type:"string",attribute:"less-than-or-equals-label"})],n.prototype,"lessThanOrEqualsLabel",2),l([Property({type:"string",attribute:"between-label"})],n.prototype,"betweenLabel",2),l([Property({type:"string",attribute:"equals-label"})],n.prototype,"equalsLabel",2),l([Property({type:"string",attribute:"contains-label"})],n.prototype,"containsLabel",2),l([Property({type:"string",attribute:"ends-with-label"})],n.prototype,"endsWithLabel",2),l([Property({type:"string",attribute:"starts-with-label"})],n.prototype,"startsWithLabel",2),l([Property({type:"string",attribute:"case-sensitive-label"})],n.prototype,"caseSensitiveLabel",2),l([Property({type:"number",attribute:"rows-per-page"})],n.prototype,"rowsPerPage",2),l([Property({type:"string",attribute:"id-field"})],n.prototype,"idField",2),n=l([CustomElementConfig({tagName:n.TAG_NAME})],n);export{n as PGGMTable};