var $=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var M=s=>{throw TypeError(s)};var a=(s,n,t,e)=>{for(var o=e>1?void 0:e?U(n,t):n,l=s.length-1,m;l>=0;l--)(m=s[l])&&(o=(e?m(n,t,o):m(o))||o);return e&&o&&$(n,t,o),o};var A=(s,n,t)=>n.has(s)||M("Cannot "+t);var r=(s,n,t)=>(A(s,n,"read from private field"),t?t.call(s):n.get(s)),c=(s,n,t)=>n.has(s)?M("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(s):n.set(s,t),g=(s,n,t,e)=>(A(s,n,"write to private field"),e?e.call(s,t):n.set(s,t),t),z=(s,n,t)=>(A(s,n,"access private method"),t);var S=(s,n,t)=>new Promise((e,o)=>{var l=h=>{try{u(t.next(h))}catch(N){o(N)}},m=h=>{try{u(t.throw(h))}catch(N){o(N)}},u=h=>h.done?e(h.value):Promise.resolve(h.value).then(l,m);u((t=t.apply(s,n)).next())});var V=`:host{display:none}:host([active]){display:-webkit-box;display:-ms-flexbox;display:flex}.pggm-wizard-form{-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}@media screen and (prefers-reduced-motion:no-preference){:host([entering=left]) .pggm-wizard-form{-webkit-animation:slideInLeft .3s forwards;animation:slideInLeft .3s forwards}:host([entering=right]) .pggm-wizard-form{-webkit-animation:slideInRight .3s forwards;animation:slideInRight .3s forwards}:host([leaving=left]) .pggm-wizard-form{-webkit-animation:slideOutLeft .3s forwards;animation:slideOutLeft .3s forwards}:host([leaving=right]) .pggm-wizard-form{-webkit-animation:slideOutRight .3s forwards;animation:slideOutRight .3s forwards}}@media screen and (prefers-reduced-motion:reduce){:host([entering]) .pggm-wizard-form{-webkit-animation:fadeIn .3s forwards;animation:fadeIn .3s forwards}:host([leaving]) .pggm-wizard-form{-webkit-animation:fadeOut .3s forwards;animation:fadeOut .3s forwards}}@-webkit-keyframes slideOutLeft{0%{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}to{opacity:0;-webkit-transform:translateX(-100%);transform:translate(-100%)}}@keyframes slideOutLeft{0%{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}to{opacity:0;-webkit-transform:translateX(-100%);transform:translate(-100%)}}@-webkit-keyframes slideOutRight{0%{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}to{opacity:0;-webkit-transform:translateX(100%);transform:translate(100%)}}@keyframes slideOutRight{0%{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}to{opacity:0;-webkit-transform:translateX(100%);transform:translate(100%)}}@-webkit-keyframes slideInLeft{0%{opacity:0;-webkit-transform:translateX(100%);transform:translate(100%)}to{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}}@keyframes slideInLeft{0%{opacity:0;-webkit-transform:translateX(100%);transform:translate(100%)}to{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}}@-webkit-keyframes slideInRight{0%{opacity:0;-webkit-transform:translateX(-100%);transform:translate(-100%)}to{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}}@keyframes slideInRight{0%{opacity:0;-webkit-transform:translateX(-100%);transform:translate(-100%)}to{opacity:1;-webkit-transform:translateX(0);transform:translate(0)}}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}
`;var B,C,O,T,d=class extends CustomElement{constructor(){super(...arguments);c(this,C);this.label="";c(this,B,t=>{var o,l;t.preventDefault();let e=((o=this.wizard)==null?void 0:o.submitButtonElement)||((l=this.wizard)==null?void 0:l.nextButtonElement);e&&e.click()});c(this,T,t=>{t.addEventListener("slotchange",()=>{z(this,C,O).call(this)}),z(this,C,O).call(this)})}get formElement(){return this.firstChild&&this.firstChild.form?this.firstChild.form:this.querySelector("form")}get wizard(){return this.closest("pggm-wizard")}updated(t,e,o){switch(t){case"nextDisabled":case"disabled":case"active":o!==null&&this.dispatchEvent(new CustomEvent("wizardFormChanged",{bubbles:!0}));break}}render(){return Maquette.h("div",{class:"pggm-wizard-form"},Maquette.h("slot",{afterCreate:r(this,T)}))}slideOut(t){return new Promise(e=>{this.setAttribute("leaving",t),setTimeout(()=>{this.removeAttribute("active"),this.removeAttribute("leaving"),e()},300)})}slideIn(t){return new Promise(e=>{this.setAttribute("entering",t),this.setAttribute("active",""),setTimeout(()=>{this.removeAttribute("entering"),this.dispatchEvent(new CustomEvent("afterNavigate",{bubbles:!0,composed:!0,detail:{direction:t}})),e()},300)})}checkValidity(){return this.formElement?this.formElement.checkValidity():!0}get allowNext(){return!this.nextDisabled}};B=new WeakMap,C=new WeakSet,O=function(){let t=this.formElement;t&&!t.dataset.preventSubmit&&(t.dataset.preventSubmit="true",t.addEventListener("submit",r(this,B)))},T=new WeakMap,d.style=V,d.tagName="pggm-wizard-form",a([Query(".pggm-wizard-form")],d.prototype,"wizardForm",2),a([Property({type:"string",attribute:"label"})],d.prototype,"label",2),a([Property({type:"boolean",attribute:"active",reflect:!0})],d.prototype,"active",2),a([Property({type:"boolean",attribute:"disabled",reflect:!0})],d.prototype,"disabled",2),a([Property({type:"boolean",attribute:"next-disabled",reflect:!0})],d.prototype,"nextDisabled",2),d=a([CustomElementConfig({tagName:d.tagName})],d);var P=`:host{display:block}.pggm-wizard{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column}.pggm-wizard,.pggm-wizard-progress{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;gap:var(--pggm-space-column-lg)}.pggm-wizard-progress{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;list-style:none;margin:0;padding:0;-webkit-box-pack:justify;-ms-flex-pack:justify;-ms-flex-wrap:nowrap;flex-wrap:nowrap;justify-content:space-between;margin-bottom:var(--pggm-space-column-lg)}#BackButton,#NextButton,#SubmitButton{word-break:keep-all}.pggm-wizzard__is-submitting,.pggm-wizzard__is-submitting #BackButton,.pggm-wizzard__is-submitting #NextButton,.pggm-wizzard__is-submitting #SubmitButton{cursor:wait}.slot-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.slot-container>::slotted(pggm-wizard-form){-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:100%}.pggm-wizzard-navigation{display:-webkit-box;display:-ms-flexbox;display:flex;gap:var(--pggm-space-column-sm)}.button-spinner{height:var(--pggm-button-icon-size);width:var(--pggm-button-icon-size);fill:currentColor}[hidden]{display:none;visibility:hidden}
`;var _=`:host{--pggm-progress-border-width:2px;--pggm-progress-line-background-color:var(--pggm-color-gray-200);--pggm-progress-line-completed-background-color:var( --pggm-interaction-active-color );--pggm-progress-marker-background-color:var(--pggm-color-gray-200);--pggm-progress-marker-color:#fff;--pggm-progress-marker-size:24px;--pggm-progress-marker-current-background-color:transparent;--pggm-progress-marker-current-border-color:var( --pggm-interaction-active-color );--pggm-progress-marker-completed-background-color:var( --pggm-interaction-active-color );--pggm-progress-marker-completed-border-color:var( --pggm-interaction-active-color );--pggm-progress-label-color:var(--pggm-color-gray-700);--pggm-progress-label-current-color:var(--pggm-interaction-active-color);--pggm-progress-label-font-family:var(--pggm-typography-font-family);--pggm-progress-label-font-size:var(--pggm-typography-font-size-sm);--pggm-progress-label-font-weight:var(--pggm-typography-font-weight-regular);--pggm-progress-label-font-weight-current:var( --pggm-typography-font-weight-bold )}:host(:focus-visible){outline:none}:host(:focus-visible) ::slotted(*){outline:var(--pggm-focus-outline-width) solid blue;outline:var(--pggm-focus-outline-width) var(--pggm-focus-outline-style,solid) var(--pggm-focus-outline-color,blue);outline-offset:var(--pggm-focus-outline-offset)}:host{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0;width:100%}.progress-step{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:0;-webkit-box-flex:1;container-type:inline-size;-ms-flex:1;flex:1;gap:.5em;width:100%}.progress-step-graphic{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;-ms-flex-align:center}.progress-step-graphic,.progress-step-marker{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.progress-step-marker{-webkit-box-flex:0;background:var(--pggm-progress-marker-background-color);border:2px solid var(--pggm-progress-marker-background-color);border-radius:50%;color:var(--pggm-progress-marker-color);-ms-flex:0;flex:0;margin:0;min-height:var(--pggm-progress-marker-size);min-width:var(--pggm-progress-marker-size);-ms-flex-pack:center;-ms-flex-align:center}.progress-step-marker svg{height:var(--pggm-progress-marker-size);width:var(--pggm-progress-marker-size)}.progress-step-marker--current{background-color:var(--pggm-progress-marker-current-background-color);border-color:var(--pggm-progress-marker-current-border-color)}.progress-step-marker--completed{background-color:var(--pggm-progress-marker-completed-background-color);border-color:var(--pggm-progress-marker-completed-border-color)}.progress-step-line{background:var(--pggm-progress-line-background-color);height:var(--pggm-progress-border-width);margin:auto;width:100%;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-transform:translateY(calc(0 - var(--pggm-progress-border-width)/2));transform:translateY(calc(0 - var(--pggm-progress-border-width)/2))}.progress-step-line--completed{background:var(--pggm-progress-line-completed-background-color)}:host([last]) .progress-step-graphic{width:calc(var(--pggm-progress-marker-size) + var(--pggm-progress-border-width)*2)}:host([last]) .progress-step-line{display:none;opacity:0;visibility:hidden;width:0}.progress-step-label{display:none;line-height:1.2;margin-right:1em;visibility:hidden}::slotted(*){color:var(--pggm-progress-label-color);font-family:var(--pggm-progress-label-font-family);font-size:var(--pggm-progress-label-font-size);font-weight:var(--pggm-progress-label-font-weight);white-space:wrap;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.progress-step-label--current ::slotted(*){color:var(--pggm-progress-label-current-color);font-weight:var(--pggm-progress-label-font-weight-current)}@container (min-width: 120px){.progress-step-label{display:block;visibility:visible}}
`;var b=class extends CustomElement{constructor(){super(...arguments);this.last=!1;this.completed=!1;this.current=!1}connectedCallback(){this.setAttribute("role","listitem")}updated(t,e,o){t==="current"&&o?this.setAttribute("tabindex","0"):t==="current"&&!o&&this.removeAttribute("tabindex")}render(){return Maquette.h("div",{class:"progress-step"},Maquette.h("div",{class:"progress-step-graphic"},Maquette.h("div",{classes:{"progress-step-marker":!0,"progress-step-marker--current":this.current,"progress-step-marker--completed":this.completed}},this.completed&&Maquette.h("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2","aria-hidden":"true",focusable:"false"},Maquette.h("path",{d:"m5 12 5 5L20 7"}))),Maquette.h("div",{classes:{"progress-step-line":!0,"progress-step-line--completed":this.completed}})),Maquette.h("div",{classes:{"progress-step-label":!0,"progress-step-label--current":this.current}},Maquette.h("slot",null)))}};b.style=_,b.tagName="pggm-progress-step",a([Property({type:"boolean",attribute:"last",reflect:!0})],b.prototype,"last",2),a([Property({type:"boolean",attribute:"completed",reflect:!0})],b.prototype,"completed",2),a([Property({type:"boolean",attribute:"current",reflect:!0})],b.prototype,"current",2),b=a([CustomElementConfig({tagName:b.tagName})],b);var j=`.pggm-progress-indicator{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:0;padding:0;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:nowrap;flex-wrap:nowrap;justify-content:space-between;white-space:nowrap;width:100%}
`;var F,v=class extends CustomElement{constructor(){super(...arguments);c(this,F,t=>{let l=t.target.assignedElements().filter(m=>m.tagName==="PGGM-PROGRESS-STEP");l.forEach((m,u)=>{u===l.length-1?m.last=!0:m.last=!1})})}connectedCallback(){this.setAttribute("role","list")}get currentStepElement(){return this.querySelector("pggm-progress-step[current]")}render(){return Maquette.h("div",{class:"pggm-progress-indicator"},Maquette.h("slot",{on:{slotchange:r(this,F)}}))}};F=new WeakMap,v.style=j,v.tagName="pggm-progress-indicator",v=a([CustomElementConfig({tagName:v.tagName})],v);var Q=["GET","POST"],y,w,k,x,i,f,R,q,E,H,I,L,D,X,Z,p=class extends CustomElement{constructor(){super();c(this,i);this.method="POST";this.action="";this.nextLabel="Volgende";this.backLabel="Vorige";this.submitLabel="Verzenden";c(this,y,!1);c(this,w,!1);c(this,k,!1);c(this,x,!1);c(this,I,t=>{t.addEventListener("slotchange",()=>{this.renderNow()}),this.addEventListener("wizardFormChanged",()=>{this.renderNow()}),this.start()});c(this,L,t=>{if(r(this,y)||r(this,w))return;g(this,y,!0);let e=t.target,o="backwards";e.id==="NextButton"&&(o="forwards");let l={direction:o};this.dispatchEvent(new CustomEvent("beforeNavigate",{bubbles:!0,cancelable:!0,detail:l}))?(this.navigate(o),g(this,y,!1),this.dispatchEvent(new CustomEvent("afterNavigate",{bubbles:!0,cancelable:!0,detail:l}))):g(this,y,!1)});c(this,D,()=>S(this,null,function*(){g(this,k,!1);let t=r(this,i,E);if(!(t!=null&&t.checkValidity())){z(this,i,X).call(this),g(this,w,!1);return}g(this,w,!0);let e={formData:this.formData},o=this.dispatchEvent(new CustomEvent("beforeSubmit",{bubbles:!0,cancelable:!0,detail:e}));if(this.scheduleRender(),!o)return;let l=this.formData,m=yield fetch(this.action,{method:this.method,body:l}).catch(u=>u).finally(()=>{g(this,w,!1)});m instanceof Error||!m.ok?g(this,x,!1):g(this,x,!0),g(this,k,!0),this.scheduleRender()}))}get formData(){let t=new FormData;return r(this,i,f).forEach(e=>{let o=e.formElement;o&&new FormData(o).forEach((m,u)=>{t.append(u,m)})}),t}get activeFormIndex(){let t=r(this,i,E);return t?r(this,i,f).indexOf(t):0}shouldUpdate(t,e,o){return t==="method"&&!Q.includes(o)?(this.method="POST",console.warn(`Invalid method "${o}". Defaulting to "POST". Valid methods are: ${Q.join(" ")}`),!1):!0}updated(){requestAnimationFrame(()=>{this.scheduleRender()})}navigate(t){return S(this,null,function*(){var u,h;g(this,k,!1);let e=r(this,i,E),o="left";if(t==="backwards")o="right";else if(!(e!=null&&e.checkValidity())){z(this,i,X).call(this),g(this,y,!1);return}r(this,i,f).forEach(N=>{N.scheduleRender()}),yield e==null?void 0:e.slideOut(o);let l=r(this,i,f).indexOf(e),m=r(this,i,f)[l+(t==="forwards"?1:-1)];yield m==null?void 0:m.slideIn(o),g(this,y,!1),(h=(u=this.progressIndicatorElement)==null?void 0:u.currentStepElement)==null||h.focus()})}start(){return S(this,null,function*(){yield new Promise(e=>{let o=()=>{let l=r(this,i,f)[0];l&&!r(this,i,E)&&(l.setAttribute("active",""),e()),setTimeout(o,30)};o()})})}render(){var t,e;return Maquette.h("div",{classes:{"pggm-wizard":!0,"pggm-wizzard__is-submitting":r(this,w)},afterCreate:r(this,I)},z(this,i,Z).call(this),r(this,k)&&Maquette.h("div",null,r(this,x)?Maquette.h("slot",{name:"finish"}):Maquette.h("slot",{name:"error"})),!r(this,i,H)&&Maquette.h("div",{key:"slot-container",class:"slot-container"},Maquette.h("slot",{id:"FormsSlot"})),!r(this,i,H)&&Maquette.h("div",{key:"navigation",class:"pggm-wizzard-navigation"},!r(this,i,q)&&Maquette.h("button",{is:"pggm-button",type:"button",appearance:"tertiary",key:"back-button",id:"BackButton",onclick:r(this,L)},Maquette.h("pggm-icon",{icon:"chevron-left",size:"m",outline:"true",role:"presentation"}),this.backLabel),!r(this,i,R)&&((t=r(this,i,E))==null?void 0:t.allowNext)&&Maquette.h("button",{is:"pggm-button",type:"button",appearance:"primary",key:"next-button",id:"NextButton",onclick:r(this,L)},this.nextLabel,Maquette.h("pggm-icon",{icon:"chevron-right",size:"m",outline:"true",role:"presentation"})),r(this,i,R)&&((e=r(this,i,E))==null?void 0:e.allowNext)&&Maquette.h("button",{is:"pggm-button",type:"button",appearance:"primary",key:"submit-button",id:"SubmitButton",onclick:()=>{r(this,D).call(this)}},this.submitLabel,r(this,w)?Maquette.h("svg",{class:"button-spinner",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Maquette.h("path",{d:"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z",opacity:".25"}),Maquette.h("path",{d:"M10.72,19.9a8,8,0,0,1-6.5-9.79A7.77,7.77,0,0,1,10.4,4.16a8,8,0,0,1,9.49,6.52A1.54,1.54,0,0,0,21.38,12h.13a1.37,1.37,0,0,0,1.38-1.54,11,11,0,1,0-12.7,12.39A1.54,1.54,0,0,0,12,21.34h0A1.47,1.47,0,0,0,10.72,19.9Z"},Maquette.h("animateTransform",{attributeName:"transform",type:"rotate",dur:"0.75s",values:"0 12 12;360 12 12",repeatCount:"indefinite"}))):Maquette.h("pggm-icon",{icon:"chevron-right",size:"m",outline:"true",role:"presentation"}))))}finish(t){g(this,w,!1),g(this,k,!0),t?g(this,x,!0):g(this,x,!1),this.scheduleRender(),this.dispatchEvent(new CustomEvent("wizardFinished",{bubbles:!0,composed:!0}))}};y=new WeakMap,w=new WeakMap,k=new WeakMap,x=new WeakMap,i=new WeakSet,f=function(){return this.formsSlot?this.formsSlot.assignedElements().filter(t=>t.tagName===d.tagName.toUpperCase()&&!t.hasAttribute("disabled")):[]},R=function(){var t;return(t=r(this,i,f)[r(this,i,f).length-1])==null?void 0:t.hasAttribute("active")},q=function(){let t=r(this,i,f).find(o=>o.hasAttribute("active"));return t?r(this,i,f).indexOf(t)===0:!1},E=function(){return r(this,i,f).find(t=>t.hasAttribute("active"))},H=function(){return r(this,k)&&r(this,x)},I=new WeakMap,L=new WeakMap,D=new WeakMap,X=function(){let t=r(this,i,E).formElement;t&&this.dispatchEvent(new CustomEvent("wizardFormInvalid",{bubbles:!0,composed:!0,detail:{form:t}}))},Z=function(){return Maquette.h("pggm-progress-indicator",null,r(this,i,f).map((t,e)=>Maquette.h("pggm-progress-step",{completed:e<this.activeFormIndex,current:e===this.activeFormIndex,key:`progress-${e}`},Maquette.h("div",null,t.label))))},p.tagName="pggm-wizard",p.style=P,a([Query("#FormsSlot")],p.prototype,"formsSlot",2),a([Query("#NextButton")],p.prototype,"nextButtonElement",2),a([Query("#BackButton")],p.prototype,"backButtonElement",2),a([Query("#SubmitButton")],p.prototype,"submitButtonElement",2),a([Query("pggm-progress-indicator")],p.prototype,"progressIndicatorElement",2),a([Property({type:"string",attribute:"method"})],p.prototype,"method",2),a([Property({type:"string",attribute:"action"})],p.prototype,"action",2),a([Property({type:"string",attribute:"next-label"})],p.prototype,"nextLabel",2),a([Property({type:"string",attribute:"back-label"})],p.prototype,"backLabel",2),a([Property({type:"string",attribute:"submit-label"})],p.prototype,"submitLabel",2),p=a([CustomElementConfig({tagName:p.tagName})],p);export{v as PGGMProgressIndicator,b as PGGMProgressStep,p as PGGMWizard,d as PGGMWizardForm};
